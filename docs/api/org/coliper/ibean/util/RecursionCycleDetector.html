<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc (1.8.0_111) on Sun Dec 23 18:58:03 CET 2018 -->
<title>RecursionCycleDetector (Coliper IBean API 0.4.5)</title>
<meta name="date" content="2018-12-23">
<link rel="stylesheet" type="text/css" href="../../../../javadoc-stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="RecursionCycleDetector (Coliper IBean API 0.4.5)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../org/coliper/ibean/util/ReflectionUtil.html" title="class in org.coliper.ibean.util"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/coliper/ibean/util/RecursionCycleDetector.html" target="_top">Frames</a></li>
<li><a href="RecursionCycleDetector.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.coliper.ibean.util</div>
<h2 title="Class RecursionCycleDetector" class="title">Class RecursionCycleDetector&lt;T&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.coliper.ibean.util.RecursionCycleDetector&lt;T&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">RecursionCycleDetector&lt;T&gt;</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Utility class to help detecting endless loops in recusive methods. It works
 by recording all instances and parameters a method is called on resp with.
 This utility internally works with <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/ThreadLocal.html?is-external=true" title="class or interface in java.lang"><code>ThreadLocal</code></a>s so it only works if
 recursion takes place within the same thread. To use this utility create a
 static instance of <a href="../../../../org/coliper/ibean/util/RecursionCycleDetector.html" title="class in org.coliper.ibean.util"><code>RecursionCycleDetector</code></a> for the method you want to
 protect against endless loops. The generic type of this class should match
 the return type of the recursive method. The cycle detection is done via
 embedding the recursive call (the call of the method on itself) in a
 <a href="../../../../org/coliper/ibean/util/RecursionCycleDetector.html#executeWithCycleDetection-java.lang.Object-java.lang.Object:A-java.util.function.Supplier-"><code>executeWithCycleDetection(Object, Object[], Supplier)</code></a> call via a
 lambda expression. The following example shows a recursive method. <code>
 Integer recursiveMethod(Integer i) {
     return recursiveMethod(i.intValue() / 2);
 }    
 </code> Now the same with cycle protection: <code>
 private static final RecursionCycleDetector DETECTOR = 
     new RecursionCycleDetector&lt;Integer&gt;(Integer.valueOf(0));
     
 Integer recursiveMethod(int i) {
     return DETECTOR.executeWithCycleDetection(this, new Object[] { i }, 
         () -&gt; recursiveMethod(i / 2));
 }    
 </code> See <a href="../../../../org/coliper/ibean/util/RecursionCycleDetector.html#executeWithCycleDetection-java.lang.Object-java.lang.Object:A-java.util.function.Supplier-"><code>executeWithCycleDetection(Object, Object[], Supplier)</code></a>
 for a more detailled description of its parameters.
 <p>
 Note that on cycle detection no exception is thrown but a predefined (in
 constructor) value is returned.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/coliper/ibean/util/RecursionCycleDetector.html#RecursionCycleDetector-T-">RecursionCycleDetector</a></span>(<a href="../../../../org/coliper/ibean/util/RecursionCycleDetector.html" title="type parameter in RecursionCycleDetector">T</a>&nbsp;returnValueIfCycleDetected)</code>
<div class="block">Create a new <a href="../../../../org/coliper/ibean/util/RecursionCycleDetector.html" title="class in org.coliper.ibean.util"><code>RecursionCycleDetector</code></a> used with in a method with
 return type T.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../org/coliper/ibean/util/RecursionCycleDetector.html" title="type parameter in RecursionCycleDetector">T</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/coliper/ibean/util/RecursionCycleDetector.html#executeWithCycleDetection-java.lang.Object-java.lang.Object:A-java.util.function.Supplier-">executeWithCycleDetection</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;instance,
                         <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>[]&nbsp;params,
                         <a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/Supplier.html?is-external=true" title="class or interface in java.util.function">Supplier</a>&lt;<a href="../../../../org/coliper/ibean/util/RecursionCycleDetector.html" title="type parameter in RecursionCycleDetector">T</a>&gt;&nbsp;functionToExecute)</code>
<div class="block">Checks a method call for a recursion cycle and if no cycle is detected
 executes a given lambda expression.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/coliper/ibean/util/RecursionCycleDetector.html" title="type parameter in RecursionCycleDetector">T</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/coliper/ibean/util/RecursionCycleDetector.html#executeWithCycleDetection-java.lang.Object-java.util.function.Supplier-">executeWithCycleDetection</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;instance,
                         <a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/Supplier.html?is-external=true" title="class or interface in java.util.function">Supplier</a>&lt;<a href="../../../../org/coliper/ibean/util/RecursionCycleDetector.html" title="type parameter in RecursionCycleDetector">T</a>&gt;&nbsp;functionToExecute)</code>
<div class="block">Short for
 <code>executeWithCycleDetection(instance, null, functionToExecute)</code>.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="RecursionCycleDetector-java.lang.Object-">
<!--   -->
</a><a name="RecursionCycleDetector-T-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>RecursionCycleDetector</h4>
<pre>public&nbsp;RecursionCycleDetector(<a href="../../../../org/coliper/ibean/util/RecursionCycleDetector.html" title="type parameter in RecursionCycleDetector">T</a>&nbsp;returnValueIfCycleDetected)</pre>
<div class="block">Create a new <a href="../../../../org/coliper/ibean/util/RecursionCycleDetector.html" title="class in org.coliper.ibean.util"><code>RecursionCycleDetector</code></a> used with in a method with
 return type T. In most cases it makes sense to have one static instance
 of <a href="../../../../org/coliper/ibean/util/RecursionCycleDetector.html" title="class in org.coliper.ibean.util"><code>RecursionCycleDetector</code></a> for one method to protect.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>returnValueIfCycleDetected</code> - the default value that is returned by
            <a href="../../../../org/coliper/ibean/util/RecursionCycleDetector.html#executeWithCycleDetection-java.lang.Object-java.lang.Object:A-java.util.function.Supplier-"><code>executeWithCycleDetection(Object, Object[], Supplier)</code></a>
            in case a call cycle is detected</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="executeWithCycleDetection-java.lang.Object-java.util.function.Supplier-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executeWithCycleDetection</h4>
<pre>public&nbsp;<a href="../../../../org/coliper/ibean/util/RecursionCycleDetector.html" title="type parameter in RecursionCycleDetector">T</a>&nbsp;executeWithCycleDetection(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;instance,
                                   <a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/Supplier.html?is-external=true" title="class or interface in java.util.function">Supplier</a>&lt;<a href="../../../../org/coliper/ibean/util/RecursionCycleDetector.html" title="type parameter in RecursionCycleDetector">T</a>&gt;&nbsp;functionToExecute)</pre>
<div class="block">Short for
 <code>executeWithCycleDetection(instance, null, functionToExecute)</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>instance</code> - the object instance the referred method is executed on. As
            this method is normally called inside the protected method, in
            that cases 'this' would be passed here.</dd>
<dd><code>functionToExecute</code> - the lambda expression to call if no cycle is detected yet. In
            most cases this will be the recursive call of the protected
            method to itself.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>if a cycle is detected the cycle detection value is returned that
         was set in the constructor.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/coliper/ibean/util/RecursionCycleDetector.html#executeWithCycleDetection-java.lang.Object-java.lang.Object:A-java.util.function.Supplier-"><code>executeWithCycleDetection(Object, Object[], Supplier)</code></a></dd>
</dl>
</li>
</ul>
<a name="executeWithCycleDetection-java.lang.Object-java.lang.Object:A-java.util.function.Supplier-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>executeWithCycleDetection</h4>
<pre>public&nbsp;<a href="../../../../org/coliper/ibean/util/RecursionCycleDetector.html" title="type parameter in RecursionCycleDetector">T</a>&nbsp;executeWithCycleDetection(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;instance,
                                   <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>[]&nbsp;params,
                                   <a href="https://docs.oracle.com/javase/8/docs/api/java/util/function/Supplier.html?is-external=true" title="class or interface in java.util.function">Supplier</a>&lt;<a href="../../../../org/coliper/ibean/util/RecursionCycleDetector.html" title="type parameter in RecursionCycleDetector">T</a>&gt;&nbsp;functionToExecute)</pre>
<div class="block">Checks a method call for a recursion cycle and if no cycle is detected
 executes a given lambda expression. The two first arguments are first
 compared against the internal call stack and if no identical matches are
 found in the stack the lambda expression in the third argument is
 executed. Any RuntimeExceptions thrown in the lambda block will simply be
 passed through.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>instance</code> - the object instance the referred method is executed on. As
            this method is normally called inside the protected method, in
            that cases 'this' would be passed here.</dd>
<dd><code>params</code> - all parameters of the protected method as an object array. If
            some arguments have primitive types the values have to be
            converted to their object representations.</dd>
<dd><code>functionToExecute</code> - the lambda expression to call if no cycle is detected yet. In
            most cases this will be the recursive call of the protected
            method to itself.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>if a cycle is detected the cycle detection value is returned that
         was set in the constructor.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../org/coliper/ibean/util/ReflectionUtil.html" title="class in org.coliper.ibean.util"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/coliper/ibean/util/RecursionCycleDetector.html" target="_top">Frames</a></li>
<li><a href="RecursionCycleDetector.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
